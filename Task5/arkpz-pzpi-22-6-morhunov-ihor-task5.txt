Харківський національний університет радіоелектроніки
Факультет комп’ютерних наук
Кафедра програмної інженерії




ЗВІТ
до лабораторного заняття №4 з дисципліни
“Аналіз та рефакторинг коду”



Виконав: 
ст. гр. ПЗПІ-22-6
Моргунов І.С.

Перевірив:
Ст. викл. кат. ПІ 
Сокорчук І.П.





Харків 2024
1.	РОЗРОБКА VISION & SCOPE
1.1	 Мета роботи
Розгорнути розроблений проект та функціонально затестувати зазначені у пункті 2.2 Vision & Scope	
1.2	 Хід роботи
1.2.1	Налаштування бази даних у Google Cloud
Було виконано авторизацію в обліковому записі Google Cloud та відкрито Google Cloud Console. У консолі обрано проєкт, у рамках якого планувалося створення інстансу бази даних. Проєкт попередньо підготовлено для розгортання необхідної інфраструктури.
Через меню Google Cloud Console було обрано сервіс Cloud SQL, який є керованим рішенням для роботи з базами даних. Цей сервіс підтримує популярні системи управління базами даних, такі як MySQL, PostgreSQL та SQL Server. Використання Cloud SQL забезпечило інтеграцію бази даних із додатком та високий рівень надійності.
Було виконано створення інстансу бази даних за допомогою кнопки "Create Instance" (Створити інстанс) із наступними налаштуваннями:
-	Тип бази даних: Обрано MySQL відповідно до технічних потреб додатку.
-	Назва інстансу: Присвоєно унікальну назву інстансу, наприклад, autoinsure.
-	Регіон і зона: Визначено регіон, найближчий до користувачів чи інфраструктури (наприклад, europe-central2), щоб мінімізувати затримки.
-	Тарифний план: Налаштовано інстанс із 1 vCPU та 3.75 ГБ RAM, що відповідає вимогам невеликих додатків.
-	Обсяг пам’яті: Встановлено обсяг пам’яті в 10 ГБ SSD із можливістю автоматичного масштабування для покриття потенційного зростання навантаження.
 
Рисунок 1.2.1 – Налаштування інстансу в Google Cloud
У процесі створення інстансу були виконані такі налаштування:
-	Версія СУБД: Обрано актуальну стабільну версію MySQL.
-	Обліковий запис адміністратора: Створено користувача root із встановленням надійного пароля для забезпечення захищеного доступу.
-	Автоматичне резервне копіювання: Активовано автоматичне резервне копіювання (Backup) для відновлення даних у разі збою або втрати.
-	Шифрування: Увімкнено опцію шифрування даних за допомогою ключів, що керуються Google (Customer Managed Encryption Keys).
Після запуску інстансу виконано перехід до Cloud Shell , де консольно було налаштовання з’єднання з локальною БД MySql створено базу даних із назвою АutoІnsure. Ця база стала основним сховищем даних для таблиць додатку.
 
Рисунок 1.2.2 – Консольні налаштування та створення бази даних
1.2.2	Деплой додатку у Google Cloud
Було взято вихідний код з проекту з репозиторію Git, скориставшись командою:
git clone https://github.com/NureMorhunovIhor/arkpz-pzpi-22-6-morhunov-ihor
Після клонування проекту було виконано перехід у його директорію:
cd C:\atark\arkpz-pzpi-22-6-morhunov-ihor\Task5\arkpz-pzpi-22-6-morhunov-ihor-task5 
Для збірки було використано один найпоширеніших інструментів Maven. Maven забезпечує автоматичне керування залежностями через файл pom.xml. Було завантажено всі необхідні залежності, зазначені в pom.xml. Це було зроблено за допомогою команди:
mvn clean install
Після налаштування проєкту виконано команду для збірки JAR-файлу:
mvn package
Після збірки було перевірено наявність файлу, наприклад:
ls target/AutoInsure-0.0.1.jar
Для перевірки працездатності додатку локально виконано команду:
java -jar target/AutoInsure-0.0.1.jar
Після усіх перевірок було розгорнуто проект у хмарному середовищі Google Cloud за допомогою команди:
gcloud app deploy AutoInsure-0.0.1.jar
 
Рисунок 1.2.3 – Консольне налаштування для розгортання проекту в Google Cloud
1.2.3	Міграція даних у Google Cloud
Для забезпечення міграції з бази даних було створено спеціальний скрипт, який виконує конвертацію даних з бази в таблиці CSV. Це важливий крок для забезпечення легкого доступу до даних у зрозумілому та зручному для аналізу форматі. Кожен з скриптів таблиць було написано по наступному прикладу:
SELECT * FROM users
INTO OUTFILE 'C:/ProgramData/MySQL/MySQL Server 8.0/Uploads/users.csv'
FIELDS TERMINATED BY ',' 
ENCLOSED BY '"'
LINES TERMINATED BY '\n';
Для передачі даних у Google Cloud було використано Cloud Bucket та Cloud Storage для завантаження і сберігання створенних файлів. Для завантаження даних у Cloud Sql було обрано раніше створений інстанс і базу даних.
 
Рисунок 1.2.4 – Налаштування міграції даних до Google Cloud
1.3 Висновок:
Під час виконання лабораторної роботи було розгорнуто розроблений проект та функціонально затестуватовано зазначені у пункті 2.2 Vision & Scope.
Посилання на відеозапис:
https://youtu.be/owXOXCh0hzc














